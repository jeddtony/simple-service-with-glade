{"version":3,"sources":["pages/location/CreateLocation.js"],"names":["CreateLocation","useProvinces","data","status","stateData","error","isFetching","useState","isLoading","setIsLoading","Form","useForm","form","api","useApi","title","labelCol","span","wrapperCol","layout","initialValues","remember","onFinish","values","formData","name","bus_name","state_id","a","createLocation","results","success","message","console","log","Swal","fire","text","icon","then","value","resetFields","button","dangerMode","postForm","label","required","placeholder","type","htmlType","loading","disabled"],"mappings":"8TAQe,SAASA,IAAkB,IAAD,EAEOC,cAA5BC,GAFqB,EAE7BC,OAF6B,EAErBD,MAEVE,GAJ+B,EAEfC,MAFe,EAERC,WAEXJ,EAAMA,EAAKA,KAAO,IAJC,EAMHK,oBAAS,GANN,mBAM9BC,EAN8B,KAMnBC,EANmB,OAOtBC,IAAKC,UAAbC,EAP8B,oBAQjCC,EAAMC,cA8CV,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KAEA,kBAAC,IAAD,CAAWC,MAAM,oBAEjB,kBAAC,IAAD,iBAfe,CACnBC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAUJ,CAEJE,OAAQ,aACRP,KAAMA,EACNQ,cAAe,CACbC,UAAU,EACVF,OAAQ,cAGVG,SA3Da,SAAAC,GACb,IAAIC,EAAW,CACXC,KAAMF,EAAOG,SACbC,SAAUJ,EAAOI,WAGP,uCAAG,gCAAAC,EAAA,6DACbnB,GAAa,GADA,SAEOI,EAAIgB,eAAeL,GAF1B,OAETM,EAFS,OAGRC,EAAoBD,EAApBC,QAASC,EAAWF,EAAXE,QACdvB,GAAa,GACbwB,QAAQC,IAAIJ,GACTC,EACCI,IAAKC,KAAK,CACNrB,MAAM,oBACNsB,KAAK,oCAAD,OAAsCd,EAAOG,SAA7C,MACJY,KAAM,YACLC,MAAK,SAACC,GACP5B,EAAK6B,iBAIPN,IAAKC,KAAK,CACRrB,MAAM,2BACNsB,KAAK,GAAD,OAAKL,GACTM,KAAM,UACNI,OAAQ,QACRC,YAAY,IArBP,2CAAH,qDA0BdC,MA6BE,kBAAC,IAAD,CAAWC,MAAM,sBAAsBC,UAAU,EAAMrB,KAAK,YAC5D,kBAAC,IAAD,CAAOsB,YAAY,aAGrB,kBAAC,IAAD,CAAWF,MAAM,QAAQC,UAAU,EAAMrB,KAAK,YAC5C,kBAAC,IAAD,KACOrB,IAIT,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKa,KAAK,MACV,kBAAC,IAAD,CAAKA,KAAK,MACV,kBAAC,IAAD,CAAQ+B,KAAK,UAAUC,SAAS,SAASC,QAAS1C,EAClD2C,SAAU3C,GADV","file":"static/js/17.7db63692.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport {ButtonLink, Drawer, PageTitle} from '../../units';\nimport {Card, Form, Input, Button, Row, Col } from 'antd';\nimport {FormGroup, Select} from '../../units';\nimport {useApi, usePageValue} from '../../context';\nimport Swal from \"sweetalert2\";\nimport {useProvinces} from '../../hooks';\n\nexport default function CreateLocation() {\n\n    const { status, data, error, isFetching } = useProvinces();\n\n    const stateData = data? data.data : [];\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [form] = Form.useForm();\n    let api = useApi();\n\n    const onFinish = values => {\n        let formData = {\n            name: values.bus_name,\n            state_id: values.state_id\n        }\n\n        const postForm = async() => {\n            setIsLoading(true);\n            let results = await api.createLocation(formData);\n            let {success, message} = results;\n            setIsLoading(false);\n            console.log(results);\n            if(success) {\n                Swal.fire({\n                    title: `Location created!`,\n                    text: `You created a location with name ${values.bus_name} !`,\n                    icon: \"success\",\n                  }).then((value) => {\n                    form.resetFields();\n                    // setRedirect(true);\n                  });\n                } else {\n                  Swal.fire({\n                    title: `Error creating location!`,\n                    text: `${message}`,\n                    icon: \"warning\",\n                    button: \"Close\",\n                    dangerMode: true,\n                  });\n                }\n        }\n\n        postForm()\n    }\n\n    const formItemLayout = {\n        labelCol: {\n          span: 4,\n        },\n        wrapperCol: {\n          span: 14,\n        },\n      }\n\n    return (\n        <Drawer>\n            <Card>\n\n            <PageTitle title=\"Create Location\" />\n\n            <Form\n        {...formItemLayout}\n        layout={\"horizontal\"}\n        form={form}\n        initialValues={{\n          remember: true,\n          layout: \"horizontal\",\n        }}\n\n        onFinish={onFinish}\n      >\n          <FormGroup label=\"Name of Town / City\" required={true} name=\"bus_name\"> \n          <Input placeholder=\"Onitsha\" />\n        </FormGroup>\n\n        <FormGroup label=\"State\" required={true} name=\"state_id\"> \n          <Select>\n                {stateData}\n          </Select>\n        </FormGroup>\n\n        <Row>\n            <Col span=\"4\"></Col>\n            <Col span=\"16\">\n            <Button type=\"primary\" htmlType=\"submit\" loading={isLoading}\n            disabled={isLoading}>\n          Create Location\n        </Button>\n            </Col>\n        </Row>\n      </Form>\n            </Card>\n        </Drawer>\n    )\n}\n"],"sourceRoot":""}