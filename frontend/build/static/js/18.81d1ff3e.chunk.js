(this["webpackJsonpantd-components"]=this["webpackJsonpantd-components"]||[]).push([[18],{416:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var n=a(2),r=a.n(n),c=a(4),i=a(10),l=a(0),o=a.n(l),s=a(83),m=a(420),u=a(419),d=a(426),p=a(418),b=a(274),f=a(276),h=a(123),E=a(16),j=a(145),_=a.n(j),O=a(108),g=a(12),v=a.n(g);function Y(){var e=Object(l.useState)(),t=Object(i.a)(e,2),a=t[0],n=t[1],j=Object(O.e)(),g=(j.status,j.data),Y=(j.error,j.isFetching,Object(O.d)(a)),w=Object(O.k)(),y=g?g.data:[],C=(w.data&&w.data.data,Y.data?Y.data.data:[]),D=Object(l.useState)(!1),H=Object(i.a)(D,2),T=H[0],k=H[1],M=m.a.useForm(),q=Object(i.a)(M,1)[0],F=Object(E.c)();return o.a.createElement(s.c,null,o.a.createElement(u.a,null,o.a.createElement(s.h,{title:"Create Trip"}),o.a.createElement(m.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:14}},{layout:"horizontal",form:q,initialValues:{remember:!0,layout:"horizontal"},onFinish:function(e){var t={start_location_id:e.start_location,end_location_id:e.end_location,vehicle_id:e.vehicle,amount:e.amount,start_time:v()(e.dept_time).format("YYYY-MM-DD HH:mm:ss")};(function(){var e=Object(c.a)(r.a.mark((function e(){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,F.createTrip(t);case 3:a=e.sent,n=a.success,c=a.message,k(!1),console.log(a),n?_.a.fire({title:"Trip created!",icon:"success"}).then((function(e){q.resetFields()})):_.a.fire({title:"Error creating location!",text:"".concat(c),icon:"warning",button:"Close",dangerMode:!0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),o.a.createElement(s.d,{label:"Pick up location",required:!0,name:"start_location"},o.a.createElement(s.j,{onChange:function(e){return n(e)}},y)),o.a.createElement(s.d,{label:"Destination",required:!0,name:"end_location"},o.a.createElement(s.j,null,C)),o.a.createElement(s.d,{label:"Cost of trip",required:!0,name:"amount"},o.a.createElement(d.a,{type:"number",placeholder:"10000"})),o.a.createElement(s.d,{label:"Departure time",required:!0,name:"dept_time"},o.a.createElement(p.a,{format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:v()("00:00:00","HH:mm:ss")}})),o.a.createElement(b.a,null,o.a.createElement(f.a,{span:"4"}),o.a.createElement(f.a,{span:"16"},o.a.createElement(h.a,{type:"primary",htmlType:"submit",loading:T,disabled:T},"Create Trip"))))))}}}]);
//# sourceMappingURL=18.81d1ff3e.chunk.js.map