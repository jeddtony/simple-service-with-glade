{"version":3,"sources":["pages/booking/ViewBooking.js","../node_modules/react-query-devtools/index.js"],"names":["Text","Typography","ViewTrips","useBooking","data","status","actualData","error","isFetching","useState","showModal","setShowModal","selectedData","setSelectedData","columns","useMemo","id","Header","accessor","d","formatDate","created_at","Cell","value","formatDateAndTime","type","size","onClick","booking","filterable","selectedKey","title","visible","onCancel","hideFooter","ViewDetails","gutter","span","style","padding","borderRadius","to","label","initialIsOpen","LabelAndNames","backgroundColor","customer_name","start_location","name","end_location","amount","vehicle","seat","float","strong","module","exports","ReactQueryDevtools","ReactQueryDevtoolsPanel"],"mappings":"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","file":"static/js/10.b78ad685.chunk.js","sourcesContent":["import React, {useMemo, useState} from 'react';\nimport {ButtonLink, Drawer, PageTitle, Modal, NumberFormat} from '../../units';\nimport {useBooking} from '../../hooks';\nimport { ReactQueryDevtools } from 'react-query-devtools';\nimport {Card, Row, Col, Button, Typography} from 'antd';\nimport {ReactTable} from '../../units';\nimport {formatDate, formatDateAndTime} from '../../helpers';\n\nconst {Text} = Typography;\n\nexport default function ViewTrips() {\n    const { status, data, error, isFetching } = useBooking();\n    \n    const actualData = data? data.data : [];\n\n    const [showModal, setShowModal] = useState(false);\n    const [selectedData, setSelectedData] = useState({});\n    \n    const handleButtonClick = (booking) =>{\n        setSelectedData(booking);\n        setShowModal(true);\n    }\n    const columns = useMemo(() => [\n        {\n            id: 'date',\n            Header: 'Date booked',\n            accessor: d=> formatDate(d.created_at),\n            Cell: d => <span>{d.value}</span>\n    }, \n    {\n        Header: 'Customer',\n        accessor: 'customer_name'\n    },\n    {\n        Header: 'Pickup location',\n        accessor: 'start_location.name'\n    }, \n    {\n        Header: 'Destination',\n        accessor: 'end_location.name'\n    },\n    {\n        Header: 'Vehicle',\n        accessor: 'vehicle.name'\n    },\n    {\n        Header: 'Departure time',\n        accessor: 'trip.start_time',\n        Cell: d => <span>{formatDateAndTime(d.value)}</span>\n    },\n    {\n        Header: 'Ticket',\n        accessor: 'ticket_code',\n       \n    },\n    {\n        id: 'action',\n        Header: 'Action',\n        accessor: d => d,\n        Cell: d => (\n            <Button type=\"primary\" size=\"small\" onClick={() => handleButtonClick(d.value)}>\n                View\n            </Button>\n        ),\n        filterable: false\n    },\n    \n],actualData )\n\n    return (\n        <>\n          <Drawer selectedKey=\"02\">\n              <Modal \n              title=\"Booking Details\"\n              visible={showModal} \n              onCancel={setShowModal}\n              hideFooter={true}>\n                  <ViewDetails booking={selectedData} />\n              </Modal>\n            <Card>\n                <Row gutter={24}>\n                    <Col span={20}>\n            <PageTitle title=\"Booking\" />\n            </Col>\n               <Col span={4} style={{padding: '10px'}}>\n                <ButtonLink style={{borderRadius: '5px'}} type=\"primary\" to=\"/booking/create\" label=\"New Booking\" />\n                </Col>\n            </Row>\n\n            <ReactTable \n            columns={columns}\n            data = {actualData}\n            filterable={true}\n            />\n\n            </Card>\n              </Drawer>  \n              <ReactQueryDevtools initialIsOpen />\n        </>\n    )\n}\n\nconst ViewDetails =({booking}) => {\n    return (\n        <Row>\n            <LabelAndNames label=\"Date booked\" value={formatDate(booking.created_at)}  backgroundColor = \"#EBEBEB\" />\n            <LabelAndNames label=\"Customer\" value={booking.customer_name}  backgroundColor = \"#FFF\" />\n            <LabelAndNames label=\"Pickup location\" value={booking.start_location.name}  backgroundColor = \"#EBEBEB\" />\n            <LabelAndNames label=\"Destination\" value={booking.end_location.name}  backgroundColor = \"#FFF\" />\n            <LabelAndNames label=\"Amount\" value={<NumberFormat value={booking.amount} />}  backgroundColor = \"#EBEBEB\" />\n            <LabelAndNames label=\"Vehicle\" value={booking.vehicle.name}  backgroundColor = \"#FFF\" />\n            <LabelAndNames label=\"Seat\" value={booking.seat.name}  backgroundColor = \"#EBEBEB\" />\n        </Row>\n    )\n}\n\n\nexport const LabelAndNames = ({ label, value, backgroundColor }) => {\n    return (\n      <Col span=\"24\" style={{ backgroundColor }}>\n        <Text>{label}: </Text>\n        <span style={{float: \"right\"}}>\n        <Text strong> {value}</Text>\n        </span>\n      </Col>\n      \n    );\n  };","if (process.env.NODE_ENV === 'production') {\n  module.exports = {\n    ReactQueryDevtools: function() {return null;},\n    ReactQueryDevtoolsPanel: function() {return null;},\n  }\n} else {\n  module.exports = require('./dist/react-query-devtools.development.js')\n}\n"],"sourceRoot":""}